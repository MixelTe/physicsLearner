<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="icon" type="image/png" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTnU1rJkAAAEeUlEQVRoQ82VX08cZRTGN34SE7+DicnObOKFNvGiF5p4URNirFYDadOqhZW/WmkwoBKsdbFtSgqKIshisbSlQuuKlC6CZCkkEkVtLUYiTWsam1Z57Duc0bNnz+zODDutT/K7mXOec85zM2+sHIovbIcXg89eVyHrvVM8twN+SD+/VhIaeXcU/7YSQfis6jff0IpoFJ/ZiTAM77oSGFpZPsWzu+GHazX1Jfl8zyVf0OrNKz71MoqhHemXkb3LRaETwiv+dQ280A4Ky6nkkid0SnDFM7XQmNlfpx5huJqsL+gfrVv8l8vJDtXnwns5dJJ/WecaoaEtNWi9LmcacyraHIPWa6DTSssaew0a2jKtTzK2b7Yo2lytz0Aness60wwNuWDLSb1P4+z+rC/kDq3HQKfqsk61QCIHaz3FOPfGpG/kLq2HTi2UNdIGyXTzq3kDtR4OjSqqTFsGxeD7DFoPjcqXNfw2JHzQo0NvFdRdaEQgTbSPwwu+V6vTiP9kDXVAwocYtB4DjQilyXdGoSF3az00YkPW4EFI+ACtbiD7pnT+4Ag0+H6tTvYNWf2d4HCzQdYNZC2LLnQOQyJvkPVs6sQDjtnqOwwJN2p1x1hmTR9JQ8Lv0OqO0eo9Cgk3anXHWGZ909UPCb9DqztGq6cbHG5aSzbk1QyOKSLNdn8EzlzXB3n3yLpjso59CA43yJrBMUWkud4eSPg9suaYrKMfg8MNsmZwTBEp19cFCb9H1hyTdWQAHG6QNYNjikjz/Yc+nR84DA6/R9bmBw4di1nvp8HhBlkz0K5IhMbG+xbSKXD4PbJ2MZ36O2anjoPDDbJmoF2RaGahMpX7bgcWv38GSz9WYPnytrx7rl57DH/ceAR/3nwYt2/bWF9/qD9mv3sCHG6QNQPtikSzC5UIEsAx2R2nweEGWTM4pogULkD7F+BwQ7a+Na9mcEwRKVyAN89Cwk1a3TGWWdncLsgA/I7Vta0eAVq/goQbtbpjLLNCBzCyWybB4UaDrBvIWhZNzr4EGeD31uq8G2SAW7esKrLfCdB8ARJu1uoGsm9KmWz1eS0A37+y+nhBALJvyN43AwkfYNB6DDQilManaqcz0zWQAeTukgGM7KY5SPgQre5CIwJpdKIJ41N1KBXg0sqTBQFoRL7shnlI+CCD1sOhUUV1fKwFI1++Dq8AcqfvAEZ27SIkcqDWo/LK4qCZ2T3U+V7v8AF8crIdg6NtKBZA7jLvgAzgHOolO7kEDTlY6/HiTgD4CSB3uA9ZoABG9t4foCEXGLQ+SakA2lz+EvMAdGJp2S/+BA1tmUHrdfEKcKWlQZ3FHzIegE7zL3v3L9DQlrps2bNc0C8DaD4X/g7wAHRScCV2/govtAPCIn+jPMDPK088SOeEU6JqFcXQDvKL1zvgBqATNq/EC2vwg3akpNQ74Aag1eVT4rnrCIPf3ygPQCujUWL7DQQhSABacXeUePom/OAnAI28N0pU4P5ExV/wwivA6Ymmahrx/1Ri23pP4imYAH30KQLFYv8AriP3Fbxh25kAAAAASUVORK5CYII=">
	<title>Physics Learner</title>
	<style>
		* {
			box-sizing: border-box;
		}
		html {
			height: 100%;
			display: flex;
			flex-direction: column;
		}
		body {
			display: flex;
			margin: 0px;
			justify-content: center;
			align-items: center;
			/* min-height: 100%; */
			flex-grow: 1;
			--header-height--: 45px;
			font-family: Arial, Helvetica, sans-serif;
		}
		.page {
			width: 100%;
			min-height: 100%;
			display: flex;
			justify-content: center;
			align-items: center;
			flex-direction: column;
			position: relative;
		}
		.testBlock {
			position: relative;
			width: 100%;
			max-width: 400px;
			max-height: 100%;
			overflow: auto;
			/* min-height: 200px; */
			background-color: aquamarine;
			border: 2px solid green;
			border-radius: 10px;
			display: flex;
			flex-direction: column;
		}
		.testBlock-title1-block {
			overflow: auto;
			margin-top: 30px;
			flex-shrink: 1;
		}
		.testBlock-title2-block {
			overflow: auto;
			padding: 10px;
			flex-shrink: 1;
			min-height: 40px;
		}
		.testBlock-title1 {
			font-size: xx-large;
			text-align: center;
			margin: 0px 10px 20px 10px;
		}
		.testBlock-title2 {
			font-size: x-large;
			text-align: center;
			min-height: 30px;
		}
		.testBlock-controls {
			min-height: 50px;
			display: flex;
    		justify-content: center;
    		align-items: center;
		}
		.testBlock-OKbutton, .testBlock-NObutton {
			outline: none;
			/* height: 24px; */
			/* width: 47px; */
			padding: 0.3em 0.8em;
			border: 2px solid green;
			border-radius: 4px 0px 0px 4px;
			background-color: aquamarine;
			font-weight: bold;
			font-size: medium;
		}
		.testBlock-OKbutton {
			border-left-width: 0px;
			border-radius: 0px 4px 4px 0px;
		}
		.testBlock-OKbutton:active, .testBlock-NObutton:active {
			box-shadow: inset 0px 0px 2px 1px black;
		}
		.testBlock-OKbutton:hover, .testBlock-NObutton:hover,
		.testBlock-OKbutton:focus, .testBlock-NObutton:focus {
			text-decoration: underline;
		}
		.btn-hidden {
			display: none;
		}
		.btn-hidden ~ .testBlock-OKbutton {
			border: 2px solid green;
			border-radius: 4px 4px 4px 4px;
		}
		.testBlock-lbl {
			position: absolute;
			top: 0px;
			margin: 5px;
			font-size: medium;
		}
		.testBlock-lbl-all {
			right: 0px;
		}

		@media screen and (max-width: 550px), screen and (max-height: 550px) {
			.testBlock {
				min-width: 100%;
				flex-grow: 1;
				border: none;
				border-radius: 0;
				padding: 0.5em;
				justify-content: center;
			}
			.testBlock-lbl {
				top: 0.5rem;
			}
			.testBlock-lbl-all {
				top: 0.5rem;
				right: 0.5rem;
			}
		}
	</style>
	<style>
		.formula {
			display: flex;
			justify-content: center;
			align-items: center;
			white-space: pre-wrap;
			font-style: italic;
			font-family: Georgia, 'Times New Roman', Times, serif;
		}
		.formula-fraction {
			display: inline-table;
		}
		.formula-fraction tr:first-child td {
			border-bottom: 0.1em solid currentColor
		}
		.formula-letter {
			width: 1em;
			height: 1em;
			min-width: 1em;
			min-height: 1em;
		}
		.formula-upper {
			transform: translateX(-0.1em) scale(0.7) translateY(-0.3em);
		}
		.formula-lower {
			transform: translateX(-0.1em) scale(0.7) translateY(0.3em);
		}
		.formula-sqrt {
			position: relative;
			border: 1px solid currentColor;
			border-width: 1px 0 0 1px;
			border-top-left-radius: 0.2em;
			margin-left: 0.3em;
		}
		.formula-sqrt::after {
			content: "";
			position: absolute;
			bottom: 0;
			left: -0.4em;
			width: 0.4em;
			/* height: 0.3em; */
			border: 1px solid currentColor;
			border-width: 1px 0 0 0;
			transform-origin: right;
			transform: rotate(45deg);
		}
	</style>
	<style>
		.btn-list {
			position: absolute;
			right: 1em;
			bottom: 1em;
			border: none;
			width: 3em;
			height: 3em;
			cursor: pointer;
			background-color: transparent;
			background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 512 512'%3E%3Cpath d='M426.667,0c-46.933,0-85.333,38.4-85.333,85.333V192c0,12.8,8.533,21.333,21.333,21.333h128 c12.8,0,21.333-8.533,21.333-21.333V85.333C512,38.4,473.6,0,426.667,0z M469.333,170.667H384V85.333 c0-23.467,19.2-42.667,42.667-42.667s42.667,19.2,42.667,42.667V170.667z'/%3E%3Cpath d='M362.667,384c-12.8,0-21.333,8.533-21.333,21.333v21.333c0,12.8,8.533,21.333,21.333,21.333S384,439.467,384,426.667 v-21.333C384,392.533,375.467,384,362.667,384z'/%3E%3Cpath d='M362.667,405.333c-12.8,0-21.333,8.533-21.333,21.333c0,23.467-19.2,42.667-42.667,42.667S256,450.133,256,426.667 v-21.333c0-12.8-8.533-21.333-21.333-21.333c-12.8,0-21.333,8.533-21.333,21.333v21.333c0,46.933,38.4,85.333,85.333,85.333 S384,473.6,384,426.667C384,413.867,375.467,405.333,362.667,405.333z'/%3E%3Cpath d='M426.667,0h-320c-36.267,0-64,27.733-64,64v341.333c0,12.8,8.533,21.333,21.333,21.333s21.333-8.533,21.333-21.333V64 c0-12.8,8.533-21.333,21.333-21.333H352c-6.4,12.8-10.667,27.733-10.667,42.667v320c0,12.8,8.533,21.333,21.333,21.333 S384,418.133,384,405.333v-320c0-23.467,19.2-42.667,42.667-42.667C454.4,42.667,454.4,0,426.667,0z'/%3E%3Cpath d='M298.667,469.333c-23.467,0-42.667-19.2-42.667-42.667v-21.333c0-12.8-8.533-21.333-21.333-21.333H21.333 C8.533,384,0,392.533,0,405.333v21.333C0,473.6,38.4,512,85.333,512h213.333C326.4,512,326.4,469.333,298.667,469.333z M85.333,469.333c-23.467,0-42.667-19.2-42.667-42.667h170.667c0,14.933,4.267,29.867,10.667,42.667H85.333z'/%3E%3Cpath d='M192,106.667h-42.667C136.533,106.667,128,115.2,128,128s8.533,21.333,21.333,21.333H192 c12.8,0,21.333-8.533,21.333-21.333S204.8,106.667,192,106.667z'/%3E%3Cpath d='M277.333,192h-42.667c-12.8,0-21.333,8.533-21.333,21.333c0,12.8,8.533,21.333,21.333,21.333h42.667 c12.8,0,21.333-8.533,21.333-21.333C298.667,200.533,290.133,192,277.333,192z'/%3E%3Cpath d='M277.333,106.667H256c-12.8,0-21.333,8.533-21.333,21.333S243.2,149.333,256,149.333h21.333 c12.8,0,21.333-8.533,21.333-21.333S290.133,106.667,277.333,106.667z'/%3E%3Cpath d='M192,277.333h-42.667c-12.8,0-21.333,8.533-21.333,21.333c0,12.8,8.533,21.333,21.333,21.333H192 c12.8,0,21.333-8.533,21.333-21.333C213.333,285.867,204.8,277.333,192,277.333z'/%3E%3Cpath d='M277.333,277.333H256c-12.8,0-21.333,8.533-21.333,21.333c0,12.8,8.533,21.333,21.333,21.333h21.333 c12.8,0,21.333-8.533,21.333-21.333C298.667,285.867,290.133,277.333,277.333,277.333z'/%3E%3Cpath d='M149.333,192c-12.8,0-21.333,8.533-21.333,21.333c0,12.8,8.533,21.333,21.333,21.333c12.8,0,21.333-8.533,21.333-21.333 C170.667,200.533,162.133,192,149.333,192z'/%3E%3C/svg%3E%0A");
			background-repeat: no-repeat;
			background-size: contain;
			outline: none;
			transition: 200ms;
		}
		.btn-list:hover, .btn-list:focus {
			filter: drop-shadow(6px -4px 2px black);
		}
		.flist {
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			display: flex;
			justify-content: center;
			align-items: center;
			background-color: rgba(0, 0, 0, 0.2);
			display: none;
		}
		.flist-active {
			display: flex;
		}
		.flist-body {
			position: relative;
			width: 100%;
			max-width: 700px;
			max-height: 94%;
			background-color: aquamarine;
			border: 2px solid green;
			border-radius: 1.5em;
			padding: 3em;
			padding-right: 0.5em;
			display: flex;
		}
		.flist-content {
			width: 100%;
			max-height: 100%;
			max-width: 100%;
			overflow: auto;
		}
		.flist-content::-webkit-scrollbar {
			width: 9px;
		}
		.flist-content::-webkit-scrollbar-thumb {
			background-color: green;
			border-radius: 1em;
		}
		.flist-close {
			position: absolute;
			background-color: aquamarine;
			border: 1px solid green;
			color: green;
			border-radius: 0.3em;
			font-size: large;
			right: 1em;
			top: 1em;
			cursor: pointer;
		}
		.flist-close:hover, .flist-close:focus {
			color: tomato;
			border: 1px solid tomato;
			outline: none;
		}

		.table {
			display: flex;
			flex-direction: column;
		}
		.row {
			display: flex;
			padding: 0.4em 0em;
			flex-wrap: wrap;
		}
		.cell:nth-child(1) {
			flex-basis: 40%;
		}
		.cell:nth-child(2) {
			flex-basis: 60%;
		}
		@media screen and (max-width: 550px), screen and (max-height: 550px) {
			.flist-body {
				max-height: 100%;
				height: 100%;
				border-radius: 0;
				border: none;
				padding: 1em;
				padding-right: 0.5em;
			}
			.cell {
				min-width: 100%;
			}
		}
	</style>
	<meta name="theme-color" content="#7fffd4">
	<meta name="msapplication-navbutton-color" content="#7fffd4">
	<meta name="apple-mobile-web-app-status-bar-style" content="#7fffd4">
</head>
<body>
	<noscript style="font-size: x-large;">Если вы видите это, попробуете открыть в Google Chrome</noscript>
    <script>
"use strict";
const SVGs = {
    settings: {
        viewBox: "0 0 24 24", paths: [
            "m13.12 24h-2.24c-.757 0-1.396-.567-1.486-1.32l-.239-1.876c-.477-.155-.937-.346-1.374-.569l-1.494 1.161c-.606.469-1.459.415-1.985-.126l-1.575-1.575c-.537-.521-.591-1.374-.122-1.979l1.161-1.495c-.224-.437-.415-.897-.569-1.374l-1.88-.239c-.75-.092-1.317-.731-1.317-1.488v-2.24c0-.757.567-1.396 1.32-1.486l1.876-.239c.155-.477.346-.937.569-1.374l-1.16-1.494c-.47-.606-.415-1.46.127-1.986l1.575-1.575c.521-.537 1.375-.59 1.979-.122l1.494 1.162c.437-.223.897-.414 1.375-.569l.239-1.88c.09-.75.729-1.317 1.486-1.317h2.24c.757 0 1.396.567 1.486 1.32l.239 1.876c.478.155.938.346 1.375.569l1.494-1.161c.607-.469 1.459-.415 1.985.127l1.575 1.575c.537.521.591 1.374.122 1.979l-1.161 1.495c.224.437.415.897.569 1.374l1.88.239c.749.091 1.316.73 1.316 1.487v2.24c0 .757-.567 1.396-1.32 1.486l-1.876.239c-.155.477-.346.937-.569 1.374l1.161 1.494c.47.606.415 1.459-.127 1.985l-1.575 1.575c-.521.537-1.375.592-1.979.122l-1.495-1.161c-.437.224-.897.415-1.374.569l-.239 1.88c-.091.75-.73 1.317-1.487 1.317zm-5.39-4.86c.083 0 .168.021.244.063.551.308 1.148.556 1.774.736.192.055.333.219.358.417l.28 2.2c.03.251.247.444.494.444h2.24c.247 0 .464-.193.493-.439l.281-2.204c.025-.198.166-.362.358-.417.626-.18 1.223-.428 1.774-.736.175-.098.393-.081.55.042l1.75 1.36c.201.156.483.143.655-.034l1.585-1.585c.181-.176.195-.458.039-.66l-1.36-1.75c-.123-.158-.14-.375-.042-.55.308-.551.556-1.148.736-1.774.055-.192.219-.333.417-.358l2.2-.28c.251-.031.444-.248.444-.495v-2.24c0-.247-.193-.464-.439-.493l-2.204-.281c-.198-.025-.362-.166-.417-.358-.18-.626-.428-1.223-.736-1.774-.098-.175-.082-.392.042-.55l1.36-1.75c.157-.202.143-.484-.033-.654l-1.585-1.585c-.175-.182-.458-.196-.66-.039l-1.75 1.36c-.159.123-.376.14-.551.042-.549-.308-1.146-.555-1.774-.736-.192-.055-.333-.219-.358-.417l-.28-2.2c-.031-.252-.248-.445-.495-.445h-2.24c-.247 0-.464.193-.493.439l-.281 2.204c-.025.198-.166.362-.358.418-.628.18-1.225.428-1.774.735-.175.099-.392.081-.551-.041l-1.75-1.36c-.202-.157-.483-.143-.654.033l-1.585 1.586c-.181.176-.195.458-.039.66l1.36 1.75c.123.158.14.375.042.55-.309.551-.556 1.148-.736 1.774-.055.192-.219.333-.417.358l-2.2.28c-.251.03-.444.247-.444.494v2.24c0 .247.193.464.439.493l2.204.281c.198.025.362.166.417.358.18.626.428 1.223.736 1.774.098.175.082.392-.042.55l-1.36 1.75c-.157.202-.143.484.033.654l1.585 1.585c.175.181.456.195.66.039l1.75-1.36c.091-.068.199-.104.308-.104z",
            "m12 17c-2.757 0-5-2.243-5-5s2.243-5 5-5 5 2.243 5 5-2.243 5-5 5zm0-9c-2.206 0-4 1.794-4 4s1.794 4 4 4 4-1.794 4-4-1.794-4-4-4z"
        ]
    },
    backArrow: {
        viewBox: "0 0 459 459", paths: [
            "M178.5,140.25v-102L0,216.75l178.5,178.5V290.7c127.5,0,216.75,40.8,280.5,130.05C433.5,293.25,357,165.75,178.5,140.25z"
        ]
    },
};
function shuffle(array) {
    for (let i = array.length - 1; i > 0; i--) {
        let j = Math.floor(Math.random() * (i + 1));
        var el = array[i];
        array[i] = array[j];
        array[j] = el;
    }
}
function normalizeString(str) {
    return str.toLowerCase().replace(/  +/g, ' ').trim();
}
function Body(children) {
    children.forEach(ch => document.body.appendChild(ch));
}
function Svg(classes, viewBox, paths, clickListener) {
    const svg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
    svg.setAttribute("viewBox", viewBox);
    paths.forEach(d => {
        const p = document.createElementNS("http://www.w3.org/2000/svg", "path");
        p.setAttribute("d", d);
        svg.appendChild(p);
    });
    const div = Div(classes);
    div.appendChild(svg);
    svg.style.width = "100%";
    svg.style.height = "100%";
    if (clickListener)
        svg.addEventListener("click", clickListener);
    return div;
}
function Label(classes, children, innerText, storeArray, index, fo) {
    const label = initEl("label", classes, children, innerText, storeArray, index);
    if (fo)
        label.setAttribute("for", fo);
    return label;
}
function Select_Option(classes, innerText, value, storeArray, index) {
    const option = initEl("option", classes, undefined, innerText, storeArray, index);
    if (value != undefined)
        option.value = value;
    return option;
}
function Select(classes, children, storeArray, index) {
    return initEl("select", classes, children, undefined, storeArray, index);
}
function Div(classes, children, innerText, storeArray, index) {
    return initEl("div", classes, children, innerText, storeArray, index);
}
function Table(classes, children, storeArray, index) {
    return initEl("table", classes, children, undefined, storeArray, index);
}
function TR(classes, children, storeArray, index) {
    return initEl("tr", classes, children, undefined, storeArray, index);
}
function TD(classes, children, storeArray, index) {
    return initEl("td", classes, children, undefined, storeArray, index);
}
function Span(classes, children, innerText, storeArray, index) {
    return initEl("span", classes, children, innerText, storeArray, index);
}
function H1(classes, children, innerText, storeArray, index) {
    return initEl("h1", classes, children, innerText, storeArray, index);
}
function CheckBox(classes, checked, storeArray, index, id, onChange) {
    const input = initEl("input", classes, undefined, undefined, storeArray, index);
    input.type = "checkbox";
    if (checked)
        input.checked = checked;
    if (id)
        input.setAttribute("id", id);
    if (onChange)
        input.addEventListener("change", onChange.bind(undefined, input));
    return input;
}
function Input(classes, type, placeholder, storeArray, index, id, onChange) {
    const input = initEl("input", classes, undefined, undefined, storeArray, index);
    if (type)
        input.type = type;
    if (placeholder)
        input.placeholder = placeholder;
    if (id)
        input.setAttribute("id", id);
    if (onChange)
        input.addEventListener("change", onChange.bind(undefined, input));
    return input;
}
function Button(classes, innerText, clickListener, storeArray, index) {
    const button = initEl("button", classes, undefined, innerText, storeArray, index);
    if (clickListener)
        button.addEventListener("click", clickListener.bind(undefined, button));
    return button;
}
function initEl(tagName, classes, children, innerText, storeArray, index) {
    const el = document.createElement(tagName);
    if (classes) {
        if (typeof classes == "string")
            el.classList.add(classes);
        else
            classes.forEach(cs => el.classList.add(cs));
    }
    if (innerText)
        el.innerText = innerText;
    if (children)
        children.forEach(ch => el.appendChild(ch));
    if (storeArray)
        storeArray[index || 0] = el;
    return el;
}

    </script>
	<script>
"use strict";
class Formula {
    question;
    formula;
    text = "";
    textQ = "";
    constructor(question, formula) {
        if (question instanceof FormulaBuilder) {
            this.question = question.html();
            this.textQ = question.text;
        }
        else {
            this.question = question;
            this.textQ = question;
        }
        if (formula instanceof FormulaBuilder) {
            this.formula = formula.html();
            this.text = formula.text;
        }
        else {
            this.formula = formula;
            this.text = formula;
        }
    }
}
class FormulaBuilder {
    body = Div("formula");
    text = "";
    a(fb) {
        this.body.appendChild(fb.body);
        this.text += fb.text;
        return this;
    }
    t(text) {
        this.body.appendChild(Span([], [], text));
        this.text += text;
        return this;
    }
    f(top, bottom) {
        const f = Table("formula-fraction", [
            TR([], [TD([], [top.body])]),
            TR([], [TD([], [bottom.body])]),
        ]);
        this.body.appendChild(f);
        this.text += `(${top.text})/(${bottom.text})`;
        return this;
    }
    l(letter) {
        const letterEl = formulaLetters[letter];
        if (!letterEl) {
            this.t(letter);
            return this;
        }
        if (letterEl.d && letterEl.vb) {
            const svg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
            svg.classList.add("formula-letter");
            svg.style.transform = `translateY(${letterEl.dy}em)`;
            const path = document.createElementNS("http://www.w3.org/2000/svg", "path");
            path.setAttribute("d", letterEl.d);
            path.setAttribute("fill", "none");
            path.setAttribute("stroke", "black");
            path.setAttribute("stroke-width", "0.4");
            path.setAttribute("stroke-linecap", "round");
            svg.setAttribute("viewBox", letterEl.vb);
            svg.appendChild(path);
            this.body.appendChild(svg);
            this.text += letterEl.ch;
        }
        else {
            this.t(letterEl.ch);
        }
        return this;
    }
    up(fb) {
        this.body.appendChild(Span("formula-upper", [fb.body]));
        if (fb.text.length == 1)
            this.text += "^" + fb.text;
        else
            this.text += "^(" + fb.text + ")";
        return this;
    }
    lw(fb) {
        this.body.appendChild(Span("formula-lower", [fb.body]));
        if (fb.text.length == 1)
            this.text += "_" + fb.text;
        else
            this.text += "_(" + fb.text + ")";
        return this;
    }
    sq(fb) {
        this.body.appendChild(Span("formula-sqrt", [fb.body]));
        this.text += "sqrt(" + fb.text + ")";
        return this;
    }
    br() {
        this.body.appendChild(document.createElement("br"));
    }
    table(rows) {
        const f = Table("formula-table");
        this.body.appendChild(f);
        for (const el of rows) {
            f.appendChild(TR([], [TD([], [el.body])]));
            this.text += el.text + "\n";
        }
        return this;
    }
    html() {
        return this.body.outerHTML;
    }
}
function FB(text) {
    if (text)
        return new FormulaBuilder().t(text);
    return new FormulaBuilder();
}
const formulaLetters = {
    "V": { ch: "ν", dy: 0, vb: "-3 -5 6 5", d: "M-2.718-3.761C-2.392-4.783-1.907-4.804-1.528-3.993L0 0 1.526-3.982C1.884-4.741 2.41-4.709 2.715-3.719" },
    "p": { ch: "ρ", dy: 0, vb: "0 -5 5 5", d: "M.283-1.392C.43-.444 1.294-.065 1.82-1.234L2.663-3.961A1 1 0 112.705-3.256" },
    "m": { ch: "μ", dy: 0.1, vb: "0 -4.5 5 4.5", d: "M.256-.799C.272-.085.878.16 1.308-1.26L1.957-3.772C1.993-3.92 2.039-3.914 2.053-3.826L2.513-1.92Q2.69-1.114 2.982-1.789L3.925-3.855C4.024-4.039 4.029-3.891 4.032-3.856L4.202-1.805Q4.294-1.037 4.862-1.582" },
    "n": { ch: "η", dy: 0, vb: "0 -5.5 5 5.6", d: "M.3-2C.2 0 2.3 1.1 2.8-2 2.9-2.5 3-5.1 2.1-5.3" },
    "a": { ch: "ⲁ", dy: 0, vb: "-0.3 -4.5 5 5.1", d: "M3.5-3.7C3.5-2.3 2.3-1.3 1.3-.3.7.3-.2-.5.4-1.1 1.1-1.6 1.2-.7 1.8-.4 2.6.1 3.6 0 3.9-.4" },
    "d": { ch: "Δ", dy: 0, vb: null, d: null },
    "P": { ch: "π", dy: 0, vb: null, d: null },
    "l": { ch: "λ", dy: 0, vb: null, d: null },
};
function createFormula(formula) {
    const fb = new FormulaBuilder();
    let bracketsOpen = 0;
    let bracketsStart = 0;
    let fractionTop = null;
    for (let i = 0; i < formula.length; i++) {
        const ch = formula[i];
        if (ch == "{") {
            if (bracketsOpen == 0)
                bracketsStart = i;
            bracketsOpen += 1;
        }
        else if (ch == "}") {
            bracketsOpen -= 1;
            if (bracketsOpen == 0) {
                const inBrackets = formula.slice(bracketsStart + 1, i);
                if (i + 1 < formula.length && formula[i + 1] == "/") {
                    fractionTop = createFormula(inBrackets);
                    i++;
                }
                else if (fractionTop) {
                    const fractionBottom = createFormula(inBrackets);
                    fb.f(fractionTop, fractionBottom);
                }
                else {
                    if (bracketsStart - 1 >= 0) {
                        if (formula[bracketsStart - 1] == "_")
                            fb.lw(createFormula(inBrackets));
                        else if (formula[bracketsStart - 1] == "^")
                            fb.up(createFormula(inBrackets));
                        else if (formula[bracketsStart - 1] == "\\")
                            fb.sq(createFormula(inBrackets));
                        else
                            fb.a(createFormula(inBrackets));
                    }
                    else {
                        fb.a(createFormula(inBrackets));
                    }
                }
            }
        }
        if (bracketsOpen > 0 || ch == "{" || ch == "}" || ch == "\\")
            continue;
        if (ch == "_") {
            if (formula[i + 1] != "{")
                fb.lw(FB(formula[++i]));
        }
        else if (ch == "^") {
            if (formula[i + 1] != "{")
                fb.up(FB(formula[++i]));
        }
        else if (ch == "'") {
            fb.l(formula[++i]);
        }
        else if (ch == "\n") {
            fb.br();
        }
        else if (ch == "*") {
            fb.t("×");
        }
        else {
            fb.t(ch);
        }
    }
    return fb;
}

    </script>
	<script>
"use strict";
const formulas = [
    new Formula("Скорость", FB().l("V").t(" = ").f(FB("S"), FB("t"))),
    new Formula("Пройденный путь", FB("S = ").l("V").t("t")),
    new Formula("Время", FB("t = ").f(FB("S"), FB().l("V"))),
    new Formula("Плотность", FB().l("p").t(" = ").f(FB("m"), FB("V"))),
    new Formula("Масса", FB("m = ").l("p").t("V")),
    new Formula("Объём", FB("V = ").f(FB("m"), FB().l("p"))),
    new Formula(FB("1").f(FB("г"), FB("см").up(FB("3"))).t(" = ?"), FB("1").f(FB("г"), FB("см").up(FB("3"))).t(" = 1000").f(FB("кг"), FB("м").up(FB("3")))),
    new Formula(createFormula("1 м^3 = ? л"), createFormula("1 м^3 = 1000 л")),
    new Formula("Сила тяжести", createFormula("F_{тяж} = mg")),
    new Formula("Сила упругости", createFormula("F_{упр} = k'dl")),
    new Formula("Сила трения", createFormula("F_{тр} = 'mN = 'mmg")),
    new Formula("Сила всемирного тяготения", createFormula("F = G {m_1m_2}/{r^2}")),
    new Formula("Вес", createFormula("P = mg")),
    new Formula("Работа, механическая", createFormula("A = FS")),
    new Formula("Мощность", createFormula("N = {A}/{t}")),
    new Formula("Условие равновесия рычага", createFormula("{F_1}/{F_2} = {l_2}/{l_1}")),
    new Formula("Момент силы", createFormula("M = Fl")),
    new Formula("Период колебания математического маятника", createFormula("2'P\\{{l}/{g}}")),
    new Formula("Последовательное соединение", FB().table([createFormula("I = I_1 = I_2"), createFormula("U = U_1 + U_2"), createFormula("R = R_1 + R_2")])),
    new Formula("Параллельное соединение", FB().table([createFormula("I = I_1 + I_2"), createFormula("U = U_1 = U_2"), createFormula("{1}/{R} = {1}/{R_1} + {1}/{R_2}")])),
    new Formula("Работа тока", createFormula("A = UIt")),
    new Formula("Мощность тока", createFormula("P = IU = {U^2}/{R} = I^2R")),
    new Formula("Закон Джоуля-Ленца", createFormula("Q = I^2R'dt")),
    new Formula("Коэфициент полезного действия", createFormula("'n = {A_п}/{A_з} * 100%")),
    new Formula("Оптическая сила линзы (диоптрия)", createFormula("{1}/{d} + {1}/{f} = {1}/{F} = D")),
    new Formula("Координата (x)", createFormula("x = x_0 + S_x")),
    new Formula("Перемещение", createFormula("S_x = x - x_0")),
    new Formula("Ускорение", createFormula("a = {'V - 'V_0}/{t}")),
    new Formula("Перемещение 3 формулы", FB().table([createFormula("S_x = V_{0x}t + {a_xt^2}/{2}"), createFormula("S_x = {'V^2_x - 'V^2_{0x}}/{2a_x}"), createFormula("S_x = {'V_x + 'V_{0x}}/{2}t")])),
    new Formula("Условие равновесия рычага", createFormula("M_1 = M_2")),
    new Formula("Архимедова сила", createFormula("F_А = 'p_жgV_т")),
    new Formula("Давление", createFormula("p = {F}/{S}")),
    new Formula("Давление жидкости", createFormula("p_ж = 'pgh")),
    new Formula("Кинетическая энергия", createFormula("E_к = {m'V^2}/{2}")),
    new Formula("Потенциальная энергия", createFormula("E_p = mgh")),
    new Formula("Потенциальная энергия деформированного тела", createFormula("E_п = {kx^2}/{2}")),
    new Formula("Энергия нагревания тела", createFormula("Q = cm(t_2 - t_1) = cm'dt")),
    new Formula("Энергия сгорания тела", createFormula("Q = qm")),
    new Formula("Энергия плавления тела", createFormula("Q = 'lm")),
    new Formula("Энергия парообразования", createFormula("Q = Lm")),
    new Formula("Сила тока", createFormula("I = {q}/{t}")),
    new Formula("Напряжение", createFormula("U = {A}/{|q|}")),
    new Formula("Сопротивление", createFormula("R = 'p{l}/{S}")),
    new Formula("Закон Ома для участка цепи", createFormula("I = {U}/{R}")),
    new Formula("Импульс тела", createFormula("p = m'V")),
    new Formula("Импульс силы", createFormula("Ft = 'dp")),
    new Formula("Период", createFormula("T = {t}/{N}")),
    new Formula("Длина волны", createFormula("'l = 'VT")),
    new Formula("Частота", createFormula("'n = {N}/{t} = {1}/{T}")),
    new Formula("Скорость волны", createFormula("'V = {'l}/{T} = 'l'n")),
    new Formula("Обозначение направления тока (от нас, к нам)", FB().table([FB().t("ⓧ - от нас"), FB().t("⊙ - к нам")])),
    new Formula("Сила Ампера", createFormula("F_A = IBlsin'a")),
    new Formula("Правило правого буравчика", FB().t("Если поступательные движения буравчика совпадают с направлением тока в проводнике, то направление вращения его рукоятки укажет направление линий магнитной индукции.")),
    new Formula("Правило левой руки", FB().t("Ладонь левой руки надо расположить так, чтобы линии магнитнной индукции входили в неё, а четыре пальца были направлены по потоку в проводнике, тогда отставленный большой палец укажет направление силы Ампера.")),
    new Formula("Магнитный поток", createFormula("Ф = BScos'a")),
];

    </script>
	<script>
"use strict";
let curTester = null;
function reStart() {
    curTester = new Tester(formulas);
}
function onOKButton() {
    if (curTester != null)
        curTester.onOKButton();
}
function onNoButton() {
    if (curTester != null)
        curTester.onNOButton();
}
function onFormulaCopy(e) {
    if (curTester != null) {
        if (e.clipboardData) {
            const text = allEls.answer.title;
            e.clipboardData.setData('text/plain', text);
            e.preventDefault();
        }
    }
}
function onQuestionCopy(e) {
    if (curTester != null) {
        if (e.clipboardData) {
            const text = allEls.question.title;
            e.clipboardData.setData('text/plain', text);
            e.preventDefault();
        }
    }
}
class Tester {
    formulas;
    curFormula = 0;
    correct = 0;
    state = "none";
    constructor(formulas) {
        this.formulas = formulas;
        this.init(formulas);
        this.showQuestion();
    }
    init(words) {
        this.curFormula = 0;
        this.correct = 0;
        this.state = "none";
        this.formulas = words;
        shuffle(this.formulas);
    }
    setLabels() {
        allEls.all.innerText = `${this.curFormula} / ${this.formulas.length}`;
        allEls.correct.innerText = `Правильно: ${this.correct} / ${this.formulas.length}`;
    }
    showQuestion() {
        if (this.curFormula >= this.formulas.length) {
            this.showResult();
            return;
        }
        allEls.question.innerHTML = this.formulas[this.curFormula].question;
        allEls.question.title = this.formulas[this.curFormula].textQ;
        allEls.answer.innerHTML = "";
        allEls.button_no.classList.add("btn-hidden");
        this.setLabels();
        this.state = "question";
        allEls.button_ok.innerText = "Ответ";
        allEls.button_ok.focus();
    }
    checkAnswer() {
        const curFormula = this.formulas[this.curFormula];
        this.curFormula += 1;
        allEls.answer.innerHTML = curFormula.formula;
        allEls.answer.title = curFormula.text;
        this.setLabels();
        this.state = "answer";
        allEls.button_no.classList.remove("btn-hidden");
        allEls.button_no.innerText = "Ошибся";
        allEls.button_ok.innerText = "Верно";
        allEls.button_ok.focus();
    }
    showResult() {
        allEls.button_no.classList.add("btn-hidden");
        allEls.question.innerText = "Результат";
        allEls.answer.innerText = `Правильно: ${Math.round(this.correct / this.formulas.length * 100)}%`;
        allEls.button_ok.innerText = "Ещё раз";
        this.state = "result";
    }
    restart() {
        this.init(this.formulas);
        this.showQuestion();
    }
    onOKButton() {
        switch (this.state) {
            case "question":
                this.checkAnswer();
                break;
            case "answer":
                this.correct += 1;
                this.showQuestion();
                break;
            case "result":
                this.restart();
                break;
            default:
                console.error("switch default");
                break;
        }
    }
    onNOButton() {
        if (this.state == "answer")
            this.showQuestion();
    }
}

    </script>
    <script>
"use strict";
function setupFlist() {
    const table = Div("table");
    allEls.flist_content.appendChild(table);
    const rows = [];
    for (let i = 0; i < formulas.length; i++) {
        const formula = formulas[i];
        const row = Div("row");
        const q = Div("cell");
        q.innerHTML = formula.question;
        q.title = formula.textQ;
        const a = Div("cell");
        a.innerHTML = formula.formula;
        a.title = formula.text;
        row.appendChild(q);
        row.appendChild(a);
        table.appendChild(row);
        rows.push({ a, q });
    }
    allEls.flist.addEventListener("click", e => {
        if (e.target == allEls.flist)
            onFlistClose();
    });
    allEls.flist.addEventListener('copy', e => {
        e.preventDefault();
        const selection = document.getSelection();
        if (!e.clipboardData || !selection)
            return;
        if (selection.anchorNode && selection.focusNode) {
            const cell = getCell(selection.anchorNode, rows);
            const cellEnd = getCell(selection.focusNode, rows);
            if (cell && cell == cellEnd) {
                e.clipboardData.setData('text/plain', cell.title);
                return;
            }
        }
        switchContent();
        e.clipboardData.setData('text/plain', selection.toString());
        switchContent();
    });
    function switchContent() {
        for (let i = 0; i < rows.length; i++) {
            const row = rows[i];
            const a = row.a.innerHTML;
            const q = row.q.innerHTML;
            row.a.innerHTML = row.a.title;
            row.q.innerHTML = row.q.title;
            row.a.title = a;
            row.q.title = q;
        }
    }
}
function getCell(el, rows) {
    while (el.parentElement) {
        el = el.parentElement;
        if (el instanceof HTMLDivElement) {
            for (let i = 0; i < rows.length; i++) {
                const row = rows[i];
                if (el == row.q)
                    return row.q;
                if (el == row.a)
                    return row.a;
            }
        }
    }
    return null;
}
function onFlistClose() {
    allEls.flist.classList.remove("flist-active");
}
function onFlistOpen() {
    allEls.flist.classList.add("flist-active");
}

    </script>
	<script>
"use strict";
const allEls = init();
allEls.answer.addEventListener("copy", onFormulaCopy);
allEls.question.addEventListener("copy", onQuestionCopy);
setupFlist();
reStart();
function init() {
    const els = [];
    document.body.innerHTML = "";
    Body([
        Div(["page", "page-1"], [
            Div("testBlock", [
                Div("testBlock-title1-block", [
                    Div("testBlock-title1", [], "Some text", els, 0),
                ]),
                Div("testBlock-title2-block", [
                    Div("testBlock-title2", [], "Some text", els, 1),
                ]),
                Div("testBlock-controls", [
                    Button("testBlock-NObutton", "NO", onNoButton, els, 2),
                    Button("testBlock-OKbutton", "OK", onOKButton, els, 3),
                ]),
                Div(["testBlock-lbl", "testBlock-lbl-correct"], [], "Correct: ## / ##", els, 4),
                Div(["testBlock-lbl", "testBlock-lbl-all"], [], "## / ##", els, 5),
            ]),
            Button("btn-list", "", onFlistOpen),
            Div("flist", [
                Div("flist-body", [
                    Button("flist-close", "✖", onFlistClose),
                    Div("flist-content", [], undefined, els, 7),
                ])
            ], undefined, els, 6)
        ]),
    ]);
    return {
        question: els[0],
        answer: els[1],
        button_no: els[2],
        button_ok: els[3],
        correct: els[4],
        all: els[5],
        flist: els[6],
        flist_content: els[7],
    };
}

    </script>
</body>
</html>